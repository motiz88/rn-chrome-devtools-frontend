{"version":3,"file":"overview.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/components/docs/performance_panel/overview.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,kBAAkB,MAAM,uEAAuE,CAAC;AAC5G,OAAO,KAAK,WAAW,MAAM,gEAAgE,CAAC;AAC9F,OAAO,KAAK,QAAQ,MAAM,yCAAyC,CAAC;AACpE,OAAO,KAAK,cAAc,MAAM,0BAA0B,CAAC;AAE3D,MAAM,kBAAkB,CAAC,oBAAoB,EAAE,CAAC;AAChD,MAAM,cAAc,CAAC,oBAAoB,CAAC,KAAK,EAAE,CAAC;AAClD,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAc,eAAe,CAAC,CAAC;AACvE,IAAI,CAAC,SAAS,EAAE;IACd,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;CAC7C;AAED,MAAM,MAAM,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC3D,MAAM,QAAQ,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,GAAG,UAAU,CAAC;AAEjE,KAAK,UAAU,aAAa,CAAC,iBAAyB,EAAE,OAA8B;IACpF,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAc,iBAAiB,CAAC,CAAC;IACzE,IAAI,CAAC,SAAS,EAAE;QACd,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;KAC7C;IACD,MAAM,OAAO,GAAG,IAAI,QAAQ,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC;IAC/D,OAAO,CAAC,UAAU,EAAE,CAAC;IACrB,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAExB,MAAM,MAAM,GAAG,MAAM,WAAW,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAEvE,OAAO,CAAC,gBAAgB,CAAC,MAAM,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC,CAAC;IAC/D,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,EAAE,EAAE,MAAM,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC,CAAC;IACtG,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,CAAC;IACtG,OAAO,CAAC,cAAc,CAAC;QACrB,eAAe,EAAE,MAAM,CAAC,eAAe;QACvC,gBAAgB,EAAE,MAAM,CAAC,gBAAgB;QACzC,QAAQ,EAAE;YACR,UAAU,EAAE,OAAO,CAAC,UAAU;YAC9B,eAAe,EAAE,IAAI;SACtB;KACF,CAAC,CAAC;AACL,CAAC;AAED,MAAM,aAAa,CAAC,YAAY,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;AACvD,MAAM,aAAa,CAAC,wBAAwB,EAAE,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as EnvironmentHelpers from '../../../../../test/unittests/front_end/helpers/EnvironmentHelpers.js';\nimport * as TraceLoader from '../../../../../test/unittests/front_end/helpers/TraceLoader.js';\nimport * as Timeline from '../../../../panels/timeline/timeline.js';\nimport * as ComponentSetup from '../../helpers/helpers.js';\n\nawait EnvironmentHelpers.initializeGlobalVars();\nawait ComponentSetup.ComponentServerSetup.setup();\nconst container = document.querySelector<HTMLElement>('div.container');\nif (!container) {\n  throw new Error('could not find container');\n}\n\nconst params = new URLSearchParams(window.location.search);\nconst fileName = (params.get('trace') || 'web-dev') + '.json.gz';\n\nasync function renderMiniMap(containerSelector: string, options: {showMemory: boolean}) {\n  const container = document.querySelector<HTMLElement>(containerSelector);\n  if (!container) {\n    throw new Error('could not find container');\n  }\n  const minimap = new Timeline.TimelineMiniMap.TimelineMiniMap();\n  minimap.markAsRoot();\n  minimap.show(container);\n\n  const models = await TraceLoader.TraceLoader.allModels(null, fileName);\n\n  minimap.setNavStartTimes(models.timelineModel.navStartTimes());\n  minimap.setBounds(models.timelineModel.minimumRecordTime(), models.timelineModel.maximumRecordTime());\n  minimap.setWindowTimes(models.performanceModel.window().left, models.performanceModel.window().right);\n  minimap.updateControls({\n    traceParsedData: models.traceParsedData,\n    performanceModel: models.performanceModel,\n    settings: {\n      showMemory: options.showMemory,\n      showScreenshots: true,\n    },\n  });\n}\n\nawait renderMiniMap('.container', {showMemory: false});\nawait renderMiniMap('.container-with-memory', {showMemory: true});\n"]}